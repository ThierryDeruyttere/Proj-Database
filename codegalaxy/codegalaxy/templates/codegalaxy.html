{% extends "foundation/base.html" %}
{% load staticfiles %}
{% load i18n %}

{# Title #}
{% block title %} Code Galaxy {% endblock title %}

{% block head_js %}
<script src="{% static "codemirror/lib/codemirror.js" %}"></script>
<script src="{% static "codemirror/mode/python/python.js" %}"></script>
<script src="{% static "codemirror/mode/clike/clike.js" %}"></script>
<script src="{% static "codemirror/mode/sql/sql.js" %}"></script>
<script src="{% static "codemirror/addon/edit/matchbrackets.js" %}"></script>
<script src="{% static "codemirror/addon/edit/closebrackets.js" %}"></script>
{% endblock head_js %}

{# Custom CSS #}
{% block css %}
<link href="{% static "custom_css/style.css" %}" rel="stylesheet"/>
<link rel="stylesheet" href="{% static "codemirror/lib/codemirror.css" %}">
<link rel="stylesheet" href="{% static "codemirror/theme/monokai.css" %}">

{% endblock css %}

{# Top Bar #}
{% block top_bar %}
<div class="sticky">
    <nav class="top-bar" data-topbar>
        <ul class="title-area">
            <li class="name">
                <h1><a href="/"><img src={% static "rocket2.png" %}/></a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
        </ul>
        <section class="top-bar-section">
          <ul class="right">
            <li><a href="/me">Profile</a></li>
            <li class="has-dropdown"><a href="#">Groups</a>
              <ul class="dropdown">
                <li><a href="/g/create">Create Group</a></li>
                <li><a href="/g/overview">Group Overview</a></li>
              </ul>
            </li>
            <li class="has-dropdown"><a href="#">Lists</a>
              <ul class="dropdown">
                <li><a href="/l/create">Create List</a></li>
                <li><a href="/l/">List Overview</a></li>
              </ul>
            </li>
            <li class="has-dropdown"><a href="/login/">User</a>
              <ul class="dropdown">
                {% if logged_in%}
                <li><a href="/logout/">Logout</a></li>
                <li><a href="/u/overview/">Users</a></li>
                {% else%}
                <li><a href="/register/">Register</a></li>
                <li><a href="/login/">Login</a></li>
                {% endif%}
            </li>
          </ul>
        </section>
    </nav>
</div>
{% endblock top_bar %}

{# Footer #}
{% block footer %}
<footer class="row">
  <div class="large-10 columns small-centered">
    <hr>
    <div class="row">
      <div class="text-center">
        <a class="setlang" name="en">{% trans "English" %}</a> | <a class="setlang" name="nl">{% trans "Dutch" %}</a>
      </div>
    </div>
  </div>
</footer>
<script>
  $(".setlang").click(function() {
    $.post("{% url 'set_language' %}", {language:$(this).attr("name"), csrfmiddlewaretoken: "{{ csrf_token }}"}).done(function() {
      location.reload(true);
    });
  });
</script>
{% endblock footer %}
