{% extends "codegalaxy.html" %}

{% block base_body %}
    {% load staticfiles %}

    <div class="row" xmlns="http://www.w3.org/1999/html">
        <div class="large-12 columns">
            <div class="panel">

                <hr>
                <div class="row">
                    <div class="text-center column">
                        <h3>
                            Create exercise
                        </h3>
                    </div>
                </div>

                <div class="Diff">
                    <div class="row">
                        <div class="large-4 large-centered columns">
                            <div class="row">
                                <div class="small-10 medium-11 columns">
                                    <div class="range-slider round" data-slider data-options="display_selector: #difficulty; start: 1; end: 5;" onchange="javascript:updateText()">
                                        <span class="range-slider-handle" role="slider" tabindex="0"></span>
                                        <span class="range-slider-active-segment"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <span id="difficulty" hidden="True"></span>
                    </div>

                    <div class="row">
                        <div class="large-4 large-centered columns">
                            <div class="row collapse prefix-radius">
                                <div class="small-3 columns">
                                    <span class="prefix">Difficulty</span>
                                </div>
                                <div class="small-9 columns">
                                    <input type="text" id="diff_text" name="diff_text" readonly="True" class="text-center">
                                </div>
                            </div>
                        </div>
                    </div>

                    <script language="javascript">
                        function updateText(){
                            document.getElementById("diff_text").value=document.getElementById("difficulty").innerText;
                        }
                    </script>
                </div>

                <div class="max_score">
                    <div class="row">
                        <div class="large-4 large-centered columns">
                            <div class="row">
                                <div class="small-10 medium-11 columns">
                                    <div class="range-slider round" data-slider data-options="display_selector: #max; start: 1; end: 10;" onchange="javascript:updateMaxText()">
                                        <span class="range-slider-handle" role="slider" tabindex="0"></span>
                                        <span class="range-slider-active-segment"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <span id="max" hidden="True"></span>
                    </div>

                    <div class="row">
                        <div class="large-4 large-centered columns">
                            <div class="row collapse prefix-radius">
                                <div class="small-3 columns">
                                    <span class="prefix">Max score</span>
                                </div>
                                <div class="small-9 columns">
                                    <input type="text" id="max_score" name="max_score" readonly="True" class="text-center">
                                </div>
                            </div>
                        </div>
                    </div>

                    <script language="javascript">
                        function updateMaxText(){
                            document.getElementById("max_score").value=document.getElementById("max").innerText;
                        }
                    </script>
                </div>

                <div class="penalty_score">
                    <div class="row">
                        <div class="large-4 large-centered columns">
                            <div class="row">
                                <div class="small-10 medium-11 columns">
                                    <div class="range-slider round" id="range_slider" data-slider data-options="display_selector: #penalty; start: 1; end: 10;" onchange="javascript:updatePenaltyText()">
                                        <span class="range-slider-handle" role="slider" tabindex="0"></span>
                                        <span class="range-slider-active-segment"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <span id="penalty" hidden="True"></span>
                    </div>

                    <div class="row">
                        <div class="large-4 large-centered columns">
                            <div class="row collapse prefix-radius">
                                <div class="small-3 columns">
                                    <span class="prefix">Penalty</span>
                                </div>
                                <div class="small-9 columns">
                                    <input type="text" id="penalty_score" name="penalty_score" readonly="True" class="text-center">
                                </div>
                            </div>
                        </div>
                    </div>

                    <script language="javascript">
                        function updatePenaltyText(){
                            document.getElementById("penalty_score").value=document.getElementById("penalty").innerText;
                        }
                    </script>
                </div>

                <div class="row">
                    <div class="large-5 large-centered columns">
                        Question
                        <textarea name="Question">

                        </textarea>
                    </div>
                </div>

                <div class="row">
                    <div class="large-6 large-centered columns">
                        <label>Exercise Type:</label>
                        <input type="radio" name="exercise_type" value="Code" id="exercise_type_code" onchange="javascript:ShowContent();"><label for="exercise_type_code">Code question</label>
                        <input type="radio" name="exercise_type" value="Open Question" id="exercise_type_open" onchange="javascript:ShowContent()"><label for="exercise_type_open">Open question</label>

                    </div>
                </div>


                <hr>

                <div class="row" id="Code_Question" hidden="True">
                    <script src="{% static "codemirror/lib/codemirror.js" %}"></script>
                    <link rel="stylesheet" href="{% static "codemirror/lib/codemirror.css" %}">
                    <script src="{% static "codemirror/mode/python/python.js" %}"></script>
                    <link rel="stylesheet" href="{% static "codemirror/theme/monokai.css" %}">

                    <div class ="row">
                        <div class="small-4 large-offset-1 columns">

                            <form style="width:500px;">
                                <u>Code the user gets to see:</u>
                        <textarea id="code" name="code">

                        </textarea>
                            </form>
                            <script>
                                var myCodeMirror = CodeMirror.fromTextArea(code,
                                        {
                                            lineNumbers: true,
                                            mode: "python",
                                            theme: "monokai"
                                        });
                            </script>
                        </div>
                    </div>
                    <div class ="row">
                        <div class="small-4 large-offset-1 columns">

                            <form style="width:500px;">
                                <u>Expected output</u>
                                <textarea id="output" name="output">

                                </textarea>
                            </form>
                            <script>
                                var myCodeMirror = CodeMirror.fromTextArea(output,
                                        {
                                            lineNumbers: true,
                                            mode: "python",
                                            theme: "monokai"
                                        });
                            </script>
                        </div>

                    </div>

                </div>

                <div class="row" id="Open_Question" hidden="True">
                    <u>Possible answers</u>
                    {% for i in "12345" %}
                        <div class ="row">
                            <div class="large-4 large-offset-1">
                                {{ i }}. <input type="text" id="answer_no_{{ i }}" placeholder="Possible Answer" name="subject_name">
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <hr>

                <script language="javascript">
                    function ShowContent(){
                        if(document.getElementById("exercise_type_code").checked){
                            document.getElementById("Code_Question").hidden = false;
                            document.getElementById("Open_Question").hidden = true;
                        }else if(document.getElementById('exercise_type_open').checked){
                            document.getElementById("Code_Question").hidden = true;
                            document.getElementById("Open_Question").hidden = false;
                        }

                    }
                </script>

            </div>
        </div>
    </div>


{% endblock base_body %}
